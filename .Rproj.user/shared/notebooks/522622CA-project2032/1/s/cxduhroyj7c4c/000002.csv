"0","# Total Events (medal winning opportunities)"
"0","d <- results_p1 %>% "
"0","  mutate(Year = ifelse(Year%in%c(2021),2020,Year)) %>%"
"0","  filter(Sport %in% c('Swimming',"
"0","                      'Athletics',"
"0","                      'Cycling - Track',"
"0","                      'Rowing',"
"0","                      'Sailing',"
"0","                      'Canoe - Sprint',"
"0","                      'Shooting',"
"0","                      'Judo',"
"0","                      'Gymnastics - Artistic'"
"0","                      ) &"
"0","           Nationality %in% c('AUS')) %>%"
"0","  group_by(Sport, Year) %>%"
"0","  summarise(MWO = n_distinct(Sport,Discipline,Gender), .groups='drop')"
"2","There were 50 or more warnings (use warnings() to see the first 50)"
"2","
"
"0","swi <- mean(d$MWO[which(d$Year!=2000 & d$Sport=='Swimming')])"
"0","ath <- mean(d$MWO[which(d$Year!=2000 & d$Sport=='Athletics')])"
"0","cyc <- mean(d$MWO[which(d$Year!=2000 & d$Sport=='Cycling - Track')])"
"0","rwg <- mean(d$MWO[which(d$Year!=2000 & d$Sport=='Rowing')])"
"0","sai <- mean(d$MWO[which(d$Year!=2000 & d$Sport=='Sailing')])"
"0","can <- mean(d$MWO[which(d$Year!=2000 & d$Sport=='Canoe - Sprint')])"
"0","sht <- mean(d$MWO[which(d$Year!=2000 & d$Sport=='Shooting')])"
"0","jud <- mean(d$MWO[which(d$Year!=2000 & d$Sport=='Judo')])"
"0","gym <- mean(d$MWO[which(d$Year!=2000 & d$Sport=='Gymnastics - Artistic')])"
"0",""
"0","d <- d %>%"
"0","  mutate("
"0","    y = ifelse(Year==2000 & Sport=='Swimming', swi, ifelse("
"0","      Year==2000 & Sport =='Athletics', ath, ifelse("
"0","        Year==2000 & Sport=='Cycling - Track', cyc, ifelse("
"0","          Year==2000 & Sport=='Rowing', rwg, ifelse("
"0","            Year==2000 & Sport=='Sailing', sai, ifelse("
"0","              Year==2000 & Sport=='Canoe - Sprint', can, ifelse("
"0","                Year==2000 & Sport=='Shooting', sht, ifelse("
"0","                  Year==2000 & Sport=='Judo',jud, ifelse("
"0","                    Year==2000 & Sport=='Gymnastics - Artistic', gym, MWO)))))))))) "
"0",""
"0","# d <- cbind(d, d2[,""Adjusted""]) %>%"
"0","#   rename(Actual=MWO) %>%"
"0","#   gather(key='MWO',value='y',-c(Year,Sport)) %>%"
"0","#   mutate(Sport = gsub('Cycling - Track','Track Cyc',Sport))"
"0",""
"0","d %>%"
"0","  ggplot(aes(x=Year, y=y, group=Sport)) +"
"0","  geom_point(aes(),colour='grey40') +"
"0","  geom_line(aes(),colour='grey40') +"
"0","  # geom_text(data=d%>%filter(Year==max(d$Year,na.rm=TRUE)),"
"0","  #           aes(x=Year,y=y,label=Sport),"
"0","  #           hjust=-0.5,size=3) +"
"0","  facet_wrap(.~Sport) +"
"0","  labs(title = ""Australia's Medal Winning Opportunities"","
"0","       subtitle = 'Sydney 2000 numbers adjusted for Home-games effect',x='', y='') +"
"0","  theme_classic() +"
"0","  theme(legend.position='none',"
"0","        axis.text.x = element_text(angle=45, hjust=1,size=8)) +"
"0","  scale_colour_manual(values=c('yes'='steelblue4','no'='grey40'),guide=FALSE) +"
"0","  scale_y_continuous(expand = c(0,0), limits = c(0,1.05*max(d$y))) + "
"0","  scale_x_continuous(breaks = c(1996,2000,2004,2008,2012,2016,2020), limits = c(1996,2022))"
