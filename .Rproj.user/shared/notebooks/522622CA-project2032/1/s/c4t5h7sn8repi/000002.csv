"0","d <- results_p2 %>%"
"0","filter(Sport %in% c('Swimming',"
"0","                      'Athletics',"
"0","                      'Cycling - Track',"
"0","                      'Rowing',"
"0","                      'Sailing',"
"0","                      'Canoe - Sprint',"
"0","                      'Shooting',#,"
"0","                      # 'Diving',"
"0","                      'Judo',"
"0","                      'Gymnastics - Artistic'"
"0","                      ) #&"
"0","           # Nationality %in% c('AUS')"
"0","           ) %>%"
"0","  group_by(Sport, appearance, Year) %>%"
"0","  summarise(aths = n_distinct(athleteID, na.rm = TRUE), .groups='drop') %>%"
"0","  group_by(Sport, Year) %>%"
"0","  mutate(`Athletes in Squad`=100*aths/sum(aths,na.rm=TRUE)) %>%"
"0","  group_by(Sport, appearance) %>%"
"0","  summarise(y=mean(`Athletes in Squad`,na.rm=TRUE), .groups='drop') %>%"
"0","  filter(y>0.5)"
"2","There were 50 or more warnings (use warnings() to see the first 50)"
"2","
"
"0","d %>%"
"0","  ggplot(aes(x=appearance, y=y"
"0","             )) +"
"0","  geom_bar(stat='identity',fill='grey60',width=0.65) +"
"0","  geom_text(aes(label=paste0(round(y,0),'%')),"
"0","            vjust=-0.5,size=3) +"
"0","  facet_wrap(.~Sport) +"
"0","  labs(title = ""Squad breakdown by Games Appearance and Sport"", x='Games Appearance', y='') +"
"0","  theme_classic() +"
"0","  theme(axis.text.y = element_blank(),"
"0","        axis.ticks.y = element_blank()) +"
"0","  scale_y_continuous(expand = c(0,0), limits = c(0,1.2*max(d$y))) +"
"0","  scale_x_continuous(breaks = c(1,2,3,4,5,6,7,8,9,10))"
